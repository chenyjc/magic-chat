# Magic Chat

ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ AI èŠå¤©åº”ç”¨ï¼Œæ”¯æŒæµå¼è¾“å‡ºã€Markdown æ¸²æŸ“ã€åŠ¨æ€å›¾è¡¨å±•ç¤ºã€è¯­éŸ³äº¤äº’å’Œå›¾ç‰‡ä¸Šä¼ ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **æµå¼è¾“å‡º**ï¼šä½¿ç”¨ Vercel AI SDK å®ç°å®æ—¶æµå¼å“åº”
- ğŸ“ **Markdown æ¸²æŸ“**ï¼šæ”¯æŒå®Œæ•´çš„ Markdown è¯­æ³•ï¼ŒåŒ…æ‹¬ä»£ç é«˜äº®
- ğŸ“Š **åŠ¨æ€å›¾è¡¨**ï¼šé›†æˆ EChartsï¼Œæ”¯æŒå¤šç§å›¾è¡¨ç±»å‹
- ğŸ¤ **è¯­éŸ³è¾“å…¥**ï¼šä½¿ç”¨ Web Speech API å®ç°è¯­éŸ³è¯†åˆ«
- ğŸ”Š **è¯­éŸ³è¾“å‡º**ï¼šæ”¯æŒæ–‡æœ¬è½¬è¯­éŸ³åŠŸèƒ½
- ğŸ“¤ **å›¾ç‰‡ä¸Šä¼ **ï¼šæ”¯æŒä¸Šä¼ å›¾ç‰‡å¹¶é¢„è§ˆ
- ğŸ“‹ **ç²˜è´´åŠŸèƒ½**ï¼šä¸€é”®ç²˜è´´å‰ªè´´æ¿å†…å®¹
- ğŸŒ“ **æ·±è‰²æ¨¡å¼**ï¼šå†…ç½®ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **AI SDK**: Vercel AI SDK
- **æ ·å¼**: Tailwind CSS
- **ç»„ä»¶åº“**: shadcn/ui
- **å›¾è¡¨**: ECharts

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# Chat API Configuration
CHAT_API_KEY=your_api_key_here
CHAT_API_BASE=http://localhost:11434/v1
CHAT_MODEL=qwen3:4b
```

> æ³¨æ„ï¼š`CHAT_API_BASE` å¯ä»¥é…ç½®ä¸ºä»»ä½• OpenAI å…¼å®¹çš„ API ç«¯ç‚¹ï¼Œä¾‹å¦‚ï¼š
> - æœ¬åœ° Ollamaï¼š`http://localhost:11434/v1`
> - OpenAI å®˜æ–¹ï¼š`https://api.openai.com/v1`
> - Azure OpenAIï¼š`https://your-resource.openai.azure.com/`
> - å…¶ä»–å…¼å®¹æœåŠ¡ï¼šæ ¹æ®æœåŠ¡å•†æä¾›çš„ç«¯ç‚¹é…ç½®

### è¿è¡Œå¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ chat/
â”‚   â”‚       â””â”€â”€ route.ts          # API è·¯ç”±
â”‚   â”œâ”€â”€ globals.css               # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ layout.tsx                # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ page.tsx                  # é¦–é¡µ
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ chat-page.tsx         # èŠå¤©é¡µé¢ä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ chat-container.tsx    # æ¶ˆæ¯å®¹å™¨
â”‚   â”‚   â”œâ”€â”€ message-bubble.tsx    # æ¶ˆæ¯æ°”æ³¡
â”‚   â”‚   â”œâ”€â”€ markdown-renderer.tsx # Markdown æ¸²æŸ“å™¨
â”‚   â”‚   â”œâ”€â”€ chart-renderer.tsx    # å›¾è¡¨æ¸²æŸ“å™¨
â”‚   â”‚   â”œâ”€â”€ input-area.tsx        # è¾“å…¥åŒºåŸŸ
â”‚   â”‚   â””â”€â”€ header.tsx            # å¤´éƒ¨ç»„ä»¶
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â””â”€â”€ theme-provider.tsx   # ä¸»é¢˜æä¾›è€…
â”‚   â”œâ”€â”€ theme-toggle.tsx          # ä¸»é¢˜åˆ‡æ¢
â”‚   â””â”€â”€ ui/                       # UI ç»„ä»¶
â””â”€â”€ lib/
    â””â”€â”€ utils.ts                  # å·¥å…·å‡½æ•°
```

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬èŠå¤©

åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ¶ˆæ¯ï¼ŒæŒ‰ Enter å‘é€ï¼ˆShift+Enter æ¢è¡Œï¼‰ã€‚

### è¯­éŸ³è¾“å…¥

1. ç‚¹å‡»éº¦å…‹é£å›¾æ ‡å¼€å§‹å½•éŸ³
2. å†æ¬¡ç‚¹å‡»åœæ­¢å½•éŸ³
3. æµè§ˆå™¨ä¼šè¯·æ±‚éº¦å…‹é£æƒé™ï¼Œè¯·å…è®¸è®¿é—®

### å›¾ç‰‡ä¸Šä¼ 

1. ç‚¹å‡»å›å½¢é’ˆå›¾æ ‡é€‰æ‹©å›¾ç‰‡
2. å›¾ç‰‡ä¼šæ˜¾ç¤ºåœ¨è¾“å…¥æ¡†ä¸Šæ–¹çš„é¢„è§ˆåŒºåŸŸ
3. ç‚¹å‡»å›¾ç‰‡å³ä¸Šè§’çš„ X å¯ä»¥åˆ é™¤å·²ä¸Šä¼ çš„å›¾ç‰‡

### ç²˜è´´åŠŸèƒ½

ç‚¹å‡»å‰ªè´´æ¿å›¾æ ‡ï¼Œè‡ªåŠ¨å°†å‰ªè´´æ¿å†…å®¹ç²˜è´´åˆ°è¾“å…¥æ¡†ã€‚

### Markdown æ”¯æŒ

AI å›å¤æ”¯æŒå®Œæ•´çš„ Markdown è¯­æ³•ï¼ŒåŒ…æ‹¬ï¼š

- æ ‡é¢˜ï¼ˆ#ã€##ã€###ï¼‰
- ä»£ç å—ï¼ˆ```ï¼‰
- åˆ—è¡¨ï¼ˆ-ã€1.ï¼‰
- ç²—ä½“å’Œæ–œä½“
- é“¾æ¥å’Œå›¾ç‰‡

### å›¾è¡¨å±•ç¤º

AI å¯ä»¥ç”ŸæˆåŠ¨æ€å›¾è¡¨ï¼Œæ”¯æŒä»¥ä¸‹ç±»å‹ï¼š

- æŠ˜çº¿å›¾
- æŸ±çŠ¶å›¾
- é¥¼å›¾
- æ•£ç‚¹å›¾

## å¼€å‘

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

```bash
npm start
```

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

## è®¸å¯è¯

MIT License
